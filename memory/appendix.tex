\newcommand{\beginscriptlisting}{\vskip 2em}
\newcommand{\appendixinput}[2]{%
  \vskip 1em
  \begin{mdframed}[style=minted]\inputminted[fontsize=\small]{#1}{#2}\end{mdframed}
}

\section{Experiment code}
\label{sec:code-experiment}

\subsection*{\mintinline{text}{load.py} script}
\label{subsec:code-load}
%This is the source code for the \mintinline{text}{load.py} executable script:
%\begin{listing}
\appendixinput{python}{code/load.py}
%    \caption{Source code for the \mintinline{text}{load.py} executable script}
%    \label{lst:load}
%\end{listing}

\beginscriptlisting
\subsection*{\mintinline{text}{experiment.py} script}
\label{subsec:code-experiment}
\appendixinput{python}{code/experiment.py}

\beginscriptlisting
\subsection*{\mintinline{text}{live_experiment.py} script}
\label{subsec:code-live-experiment}
\appendixinput{python}{code/live_experiment.py}
