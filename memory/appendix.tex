\newcommand{\beginscriptlisting}{\vskip 2em}
\newcommand{\appendixinput}[2]{%
  \vskip 1em
  \begin{mdframed}[style=minted]\inputminted[fontsize=\small]{#1}{#2}\end{mdframed}
}

\section{Experiment code}
\label{sec:code-experiment}

This appendix only reproduces the code for running experiments,
see the \mintinline{text}{analysis} directory in the submitted
annex for the data analysis notebook and other code.

\subsection*{\mintinline{text}{load.py} script}
\label{subsec:code-load}
%This is the source code for the \mintinline{text}{load.py} executable script:
%\begin{listing}
\appendixinput{python}{code/load.py}
%    \caption{Source code for the \mintinline{text}{load.py} executable script}
%    \label{lst:load}
%\end{listing}

\beginscriptlisting
\subsection*{\mintinline{text}{experiment.py} script}
\label{subsec:code-experiment}
\appendixinput{python}{code/experiment.py}

\beginscriptlisting
\subsection*{\mintinline{text}{live_experiment.py} script}
\label{subsec:code-live-experiment}
\appendixinput{python}{code/live_experiment.py}

\clearpage
\section{PoC code}
\label{sec:code-daemon}

This appendix only reproduces the main script of the deamon,
see the \mintinline{text}{daemon} directory in the submitted
annex for the rest of the code, including the bindings to
taskstats and ioprio. 

\subsection*{\mintinline{text}{lib/server.ts}}
\label{subsec:code-server}
\appendixinput{typescript}{code/server.ts}

